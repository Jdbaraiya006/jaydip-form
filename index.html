<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Full Web App</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f4f4f4;
}
nav {
  background: #333;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
}
nav ul {
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
}
nav ul li {
  position: relative;
}
nav ul li a {
  color: #fff;
  padding: 14px 20px;
  display: block;
  text-decoration: none;
}
nav ul li a:hover { background: #575757; }
nav ul ul {
  position: absolute;
  top: 100%; left: 0;
  background: #333;
  display: none;
  flex-direction: column;
}
nav ul li:hover > ul { display: flex; }

section { display: none; padding: 80px 20px; min-height: 90vh; }
section.active { display: block; }

/* Login Page Layout */
.login-wrapper {
  display: flex;
  max-width: 900px;
  margin: auto;
  background: white;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
.login-left {
  flex: 1;
  background: linear-gradient(135deg,#00c6ff,#0072ff);
  color: white;
  padding: 40px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.login-left h2 { font-size: 2em; margin-bottom: 10px; }
.login-right {
  flex: 1;
  padding: 40px;
}
.login-right h3 { margin-bottom: 20px; color: #0072ff; }
.login-right input {
  width: 100%;
  padding: 10px;
  margin: 8px 0;
  border: 1px solid #ccc;
  border-radius: 4px;
}
.login-right input:invalid { border-color: red; }
.login-right label { font-size: 0.9em; }
.login-right button {
  width: 100%;
  padding: 10px;
  background: #0072ff;
  color: white;
  border: none;
  border-radius: 4px;
  margin-top: 10px;
  cursor: pointer;
}
.login-right button:hover { background: #005ace; }
.login-links { display: flex; justify-content: space-between; margin-top: 10px; }
.login-links a { font-size: 0.9em; text-decoration: none; color: #0072ff; }

.error-msg { font-size: 0.8em; color: red; }

body {
        font-family: Arial, sans-serif;
        margin: 15px;
        background-position: center;

      }

      .flex-row {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: nowrap;
      }
      .th,tr,input {
       border: none;
       background: none;
       outline: none;
       width: 100%;
       font-size: 14px;
       text-align: center;
}

      .column {
        width: 49%;
        display: flex;
        flex-direction: column;
        gap: 10px;
        width: 50%;
      }

      .column table{
        flex: 1 1 auto ;
        height: 100%;
      }

      table {
        border-collapse: collapse;
        width: 100%;
        page-break-inside: avoid;
        flex-wrap: wrap;
        word-wrap: break-word;
      }

      th,
      td {
        border: 1px solid black;
        padding: 6px;
        text-align: center;
        font-size: 12px;
      }

      th {
        background-color: #c8e6c9;
      }
      tr,td{
         
            font-weight: bold;
            font-size: 17px;
            
          
      }
     .out {
      min-width: 100px;
      font-weight: bold;
      background: #fff;
      font-size: 18px;}
       caption {
      caption-side: top;
      font-weight: bold;
      font-size: 22px;
      margin-bottom: 10px;
    }
    input {
      padding: 2px;
      text-align: center;
    }
    .delete-btn {
      background: red;
      color: white;
      border: none;
      padding: 3px 6px;
      cursor: pointer;
      font-size: 14px;
    }
    .add-btn {
      margin-top: 10px;
      padding: 6px 12px;
      font-size: 16px;
    }
    tfoot td {
      font-weight: bold;
      background-color: #fdf5d1;
    }
    .header-inputs {
      text-align: right;
    }
    .header-inputs input {
      margin-left: 5px;
    }
    .rate-input {
      width: 80px;
    }
    .date-input {
      width: 140px;
    }
    .table-input {
      width: 80px;
    }
</style>
</head>
<body>

<!-- Navigation -->
<nav>
  <ul>
    <li><a href="#" data-target="home">Home</a></li>
    <li><a href="#">Form ▾</a>
      <ul>
        <li><a href="#" data-target="form1">Form 1</a></li>
        <li><a href="#" data-target="form2">Form 2</a></li>
        <li><a href="#" data-target="form3">Form 3</a></li>
        <li><a href="#" data-target="form4">Form 4</a></li>
      </ul>
    </li>
    <li><a href="#" data-target="saved">Saved & Edit</a></li>
    <li><a href="#" data-target="login">Login</a></li>
  </ul>
</nav>

<!-- Sections -->
<section id="home" class="active">
  <h2>Home Page</h2>
  <div id="homeData">No data saved yet.</div>
</section>

  
  <section id="form1" >
  <table id="savedTable" style="
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 15px;
        background-color: #c8e6c9;
      ">
    
     
    
      <tr>
        <td
          style="
            border: 1px solid black;
            padding: 6px;
            font-weight: bold;
            width: 60%;
            text-align: left;
          "
        >
          ખતેદારનું નામ:
          <input
            type="text"
            id="khatedar"
            style="
              border: none;
              border-bottom: 1px solid black;
              width: 60%;
              background-color: #c8e6c9;
            "
          />
        </td>
        <td
          style="
            border: 1px solid black;
            padding: 6px;
            font-weight: bold;
            width: 40%;
            text-align: left;
          "
        >
          તારીખ =
          <input
            type="text"
            id="date"
            placeholder=""
            style="
              border: none;
              border-bottom: 1px solid black;
              width: 50%;
              background-color: #c8e6c9;
            "
          />
        </td>
      </tr>
    </table>

    <div class="flex-row">
      <!-- Table 1 -->
      <!-- 1.LEFT COLUMN: 5 tables -->
      <div class="column">
        <table class >
          <tr style="background-color: #c8e6c9; border: none;">
            <th>નામ</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ</th>
          </tr>

          <tr>
            <td>તળીયા</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr class="highlight">
            <td>ટોટલ</td>
            <td><span id="topQtyTotal">0</span></td>
            <td><span id="topRateTotal">0</span></td>
            <td><span id="topSectionTotal">0</span></td>
          </tr>

          <tr>
            <td>તળીયા પેલ</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="qty" /></td>
            <td><input type="number" class="rate" /></td>
            <td><span class="total">0</span></td>
          </tr>

          <tr class="highlight">
            <td>ટોટલ</td>
            <td><span id="bottomQtyTotal">0</span></td>
            <td><span id="bottomRateTotal">0</span></td>
            <td><span id="bottomSectionTotal">0</span></td>
          </tr>

          <tr class="highlight"style="background-color: #ffe0b2">
            <td colspan="3" class="right-align">કુલ ટોટલ:</td>
            <td><span id="grandTotal">0</span></td>
          </tr>
        </table>
        <!-- Table 2-->
        <!-- 2 Table  એફિસે જમા કરાવેલ ટાટલ નંગ-->

        <table class="half-table">
          <tr>
            <th
              colspan="3"
              style="white-space: nowrap; background-color: #c8e6c9"
            >
              એફિસે જમા કરાવેલ ટાટલ નંગ
            </th>
          </tr>

          <tr>
            <td colspan="2"><input type="text" placeholder="નામ" /></td>
            <td><input type="number" class="qty3" /></td>
          </tr>

          <tr>
            <td colspan="2"><input type="text" placeholder="નામ" /></td>
            <td><input type="number" class="qty3" /></td>
          </tr>

          <tr class="highlight"style="background-color: #ffe0b2">
            <td colspan="2" class="right-align">કુલ ટોટલ:</td>
            <td><span id="grandTotal3">0</span></td>
          </tr>
        </table>
        <!-- Table 3 -->

        <!-- 3.બનાવવા અપાયેલા નંગ (મજૂરી દેવાની)-->

        <table>
          <tr style="background-color: #c8e6c9">
            <th colspan="4">બનાવવા અપાયેલા નંગ (મજૂરી દેવાની)</th>
          </tr>

          <tr>
            <th>વિગત</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ ₹</th>
          </tr>

          <tr>
            <td>ઘાટ</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>ટેબલ</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>વીટ</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>તળીયા</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="b1-qty" /></td>
            <td><input type="number" class="b1-rate" /></td>
            <td><span class="b1-total">0</span></td>
          </tr>

          <tr class="total-row" style="background-color: #ffe0b2">
            <td colspan="3" style="text-align: right">ટોટલ:</td>
            <td><span id="b1-grand">0</span></td>
          </tr>
        </table>
        <!-- Table 4 -->
        <!--4 બહાર ની આવક / બહાર ની જાવક / નુકશાની -->

        <table style="clear: both; width: 92%">
  <tr style="background-color: #c8e6c9">
    <th colspan="2">બહાર ની આવક / બહાર ની જાવક / નુકશાની</th>
  </tr>
  <tr>
    <td>બહાર ની આવક</td>
    <td><span id="આવક">0</span></td>
  </tr>
  <tr>
    <td>બહાર ની જાવક</td>
    <td><span id="જાવક">0</span></td>
  </tr>
  <tr class="total-row">
    <td>ફાયદો / નુકશાની</td>
    <td><span id="b2-result">0</span></td>
  </tr>
</table>
        

        <!-- Table 5 -->
        <!-- 5.ઘીરા પર નો ટોટલ ખર્ચ -->
        <table class="half-table1" style="margin-top: 1px">
          <tr style="background-color: #c8e6c9">
            <th colspan="3">ઘીરા પર નો ટોટલ ખર્ચ</th>
          </tr>
          <tr>
            <td>નંગ પર ચૂકવાતી મજૂરી</td>
            <td><span id="Total0">0</span></td>
          </tr>
          <tr>
            <td>નંગ ઉપર નો મેનજર ખર્ચ</td>
            <td><span id="TotaL1">0</span></td>
          </tr>
          <tr>
            <td>નંગ ઉપર નો પરચુરણ ખર્ચ</td>
            <td><span id="TotaL2">0</span></td>
          </tr>

          <tr>
            <td>ફાયદો / નુકશાની</td>
            <td><span id="TotaL3">0</span></td>
          </tr>

          <tr style="background-color: #ffcdd2">
            <td style="text-align: right">ટોટલ</td>
            <td><span id="final-grand">0</span></td>
          </tr>
        </table>
      </div>
      <!-- Table R 1 -->
      <!-- RIGHT COLUMN: 5 tables -->
      <div class="column">
        <table>
          <tr>
            <th>પરચુરણ ખર્ચ</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ</th>
            <th>ખર્ચ %</th>
          </tr>

          <!-- Repeat rows -->
          <tr>
            <td>મકાન ભાડું</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>લાઇટ બિલ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>ડાયુ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>કોટેડ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>
          <tr>

            <td>દોરી વ્હીલ નંગ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>વીટ વ્હીલ નંગ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>નવી સરેણનંગ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>સરેણ માંજવાના</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>પરચુરણ ખર્ચ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>નવ સામાન</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>રશીયન વ્હીલ નંગ</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>નવો સામાન</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr>
            <td>અન્ય</td>
            <td><input type="number" class="qtyv" /></td>
            <td><input type="number" class="rateV" /></td>
            <td><span class="total-2">0</span></td>
            <td><span class="percent">0</span></td>
          </tr>

          <tr class="highlight"style="background-color: #ffe0b2">
            <td colspan="3" class="right-align">કુલ ટોટલ:</td>
            <td><span id="grandTotalR2">0</span></td>
            <td><span id="percentTotal">0%</span></td>
          </tr>
        </table>
        <!-- Table R-2-->
        <!-- બનાવવા લાવેલા નંગ (મજૂરી લેવાની) -->

        <table>
          <tr style="background-color: #c8e6c9">
            <th colspan="4">બનાવવા લાવેલા નંગ (મજૂરી લેવાની)</th>
          </tr>

          <tr>
            <th>વિગત</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ ₹</th>
          </tr>

          <tr>
            <td>ઘાટ</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>ટેબલ</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>વીટ</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>તળીયા</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="b2-qty" /></td>
            <td><input type="number" class="b2-rate" /></td>
            <td><span class="b2-total">0</span></td>
          </tr>

          <tr class="total-row" style="background-color: #ffe0b2">
            <td colspan="3" style="text-align: right">ટોટલ:</td>
            <td><span id="b2-grand">0</span></td>
          </tr>
        </table>

        <!-- Table R-3-->
        
          
          <table>
          <tr style="background-color: #c8e6c9">
            <th colspan="4">રીપેરીંગ</th>
          </tr>

          <tr>
            <th>નામ</th>
            <th>નંગ</th>
            <th>ભાવ</th>
            <th>ટોટલ ₹</th>
          </tr>
          <tr>
            <td>તળીયા</td>
            <td><input type="number" class="b3-qty" /></td>
            <td><input type="number" class="b3-rate" /></td>
            <td><span class="b3-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા પેલ</td>
            <td><input type="number" class="b3-qty" /></td>
            <td><input type="number" class="b3-rate" /></td>
            <td><span class="b3-total">0</span></td>
          </tr>

          <tr>
            <td>મથાળા તરખૂણિયા</td>
            <td><input type="number" class="b3-qty" /></td>
            <td><input type="number" class="b3-rate" /></td>
            <td><span class="b3-total">0</span></td>
          </tr>

          <tr style="background-color: #ffe0b2">
            <td colspan="3" style="text-align: right">ટોટલ:</td>
            <td><span id="b3-grand">0</span></td>
          </tr>
        </table>

        <!-- Table R-4-->
        <table class="half-table">
          <tr>
            <th
              colspan="3"
              style="white-space: nowrap; background-color: #c8e6c9"
            >
              ઉપાડ
            </th>
          </tr>
          <tr>
            <td colspan="2"><input type="text" placeholder="નામ" /></td>
            <td><input type="number" class="qtyS" /></td>
          </tr>
          <tr>
            <td colspan="2"><input type="text" placeholder="નામ" /></td>
            <td><input type="number" class="qtyS" /></td>
          </tr>
          <tr class="highlight">
            <td colspan="2" class="right-align">કુલ ટોટલ:</td>
            <td><span id="grandTotalS">0</span></td>
          </tr>
        </table>
      </div>
    </div>
    <br>
    <br>


    <div>
        <table>
          <tr style="background-color: #c8e6c9">
            <th colspan="5">મેનજર ની વિગત</th>
          </tr>
          <tr>
            <th>મેનજર</th>
            <th>નામ</th>
            <th>પગાર</th>
            <th>દેવાનો પગાર</th>
            <th>ખર્ચ %</th>
          </tr>

          <!-- Repeat rows -->
          <tr>
            <td>મેનજર</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>તળિયા મેનજર</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>તળિયા મેનજર-2</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>પેલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>પેલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>મથાળા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>મથાળા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>તરખૂણિયા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>તરખૂણિયા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>ટેબલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>ટેબલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>વીટ પટા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>વીટ પટા</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>લોટીગ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>લોટીગ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>દોરી</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>દોરી</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
           <tr>
            <td>દોરી</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>દોરી</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>ડાયુ બેસાડવા|</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>ડાયુ બેસાડવા|</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>લેવલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td>લેવલ</td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td></td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td></td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
           <tr>
            <td></td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>
          <tr>
            <td></td>
            <td><input type="text"/></td>
            <td><input type="number" class="salary" /></td>
            <td><input type="number" class="givensalary" /></td>
            <td><span class="salarypercent">0</span></td>
          </tr>


          <tr style="background-color: orange;">
            <td colspan="2" style="text-align:right;font-weight:bold;">કુલ</td>
            <td><span id="salary">0</span></td>
            <td><span id="givensalary">0</span></td>
            <td><span id="totalpercent">0%</span></td>
           
        </table>

        <button type="button" onclick="saveForm1()">Save Form</button>




</section>

<section id="form2"><table>
    <tr>
      <th>Number</th>
      <th>Name</th>
      <th>Type 1</th>
      <th>Type 2</th>
      <th>= Total</th>
      <th>* Rate</th>
      <th>= Full Total</th>
      <th>- Type 3</th>
      <th>= Final</th>
    </tr>
    <tr>
      <td><input id="num"></td>
      <td><input id="name"></td>
      <td><input id="type1"></td>
      <td><input id="type2"></td>
      <td class="out" id="total">0</td>
      <td><input id="rate"></td>
      <td class="out" id="fullTotal">0</td>
      <td><input id="type3"></td>
      <td class="out" id="final">0</td>
    </tr>
  </table>

  <table>
    <caption>હીરા મજૂરી</caption>
    <thead>
      <tr>
        <th colspan="9" class="header-inputs">
          તા: <input type="date" id="dateBox" class="date-input" />
          &nbsp; ભાવ: <input type="number" id="globalRate" class="rate-input" placeholder="ભાવ નાખો" />
        </th>
      </tr>
      <tr>
        <th>ક્રમ</th>
        <th>નામ</th>
        <th>ભાવ</th>
        <th>કુલ હીરા</th>
        <th>કુલ કામ (ભાવ × હીરા)</th>
        <th>ઉપાડ</th>
        <th>ઉપાડ બાદ કરીને</th>
        <th>કુલ બાકી</th>
        <th>✖</th>
      </tr>
    </thead>

    <tbody id="rows-body"></tbody>

    <tfoot>
      <tr>
        <td colspan="3">કુલ</td>
        <td><span class="final-totalhira">0</span></td>
        <td><span class="final-total">0</span></td>
        <td><span class="final-upad">0</span></td>
        <td><span class="final-total2">0</span></td>
        <td><span class="final-total3">0</span></td>
        <td></td>
      </tr>
    </tfoot>
  </table>

  <button class="add-btn" onclick="addRow()">➕ પંક્તિ ઉમેરો</button>
</section>
<section id="form3"><h2>Form 3 Content</h2></section>
<section id="form4"><h2>Form 4 Content</h2></section>

<section id="saved">
  <h2>Saved & Edit</h2>
  <p>Your saved data will appear here.</p>
</section>

<!-- Styled Login Section -->
<section id="login">
  <div class="login-wrapper">
    <div class="login-left">
      <h2>Welcome to...</h2>
      <p>Login to access your dashboard and manage your account.</p>
    </div>
    <div class="login-right">
      <h3>Login</h3>
      <input type="text" id="username" placeholder="Username or Email" required>
      <span id="userError" class="error-msg"></span>
      <input type="email" id="email" placeholder="Email" required>
      <span id="emailError" class="error-msg"></span>
      <input type="password" id="password" placeholder="Password" required>
      <span id="passError" class="error-msg"></span>
      <label><input type="checkbox" id="remember"> Remember Me</label>
      <button id="loginBtn">Login</button>
      <div class="login-links">
        <a href="#">Register</a>
        <a href="#">Forgot Password?</a>
      </div>
    </div>
  </div>
</section>

<script>

  
// Navigation Tabs
document.querySelectorAll('nav a[data-target]').forEach(link=>{
  link.addEventListener('click',e=>{
    e.preventDefault();
    let target = e.target.getAttribute('data-target');
    document.querySelectorAll('section').forEach(sec=>sec.classList.remove('active'));
    document.getElementById(target).classList.add('active');
  });
});

// Remember Me functionality
const username = document.getElementById('username');
const email = document.getElementById('email');
const password = document.getElementById('password');
const remember = document.getElementById('remember');

if(localStorage.getItem('savedUsername')){
  username.value = localStorage.getItem('savedUsername');
  email.value = localStorage.getItem('savedEmail');
  password.value = localStorage.getItem('savedPassword');
  remember.checked = true;
}

document.getElementById('loginBtn').addEventListener('click',()=>{
  let valid = true;
  document.getElementById('userError').textContent='';
  document.getElementById('emailError').textContent='';
  document.getElementById('passError').textContent='';

  if(username.value.trim() === ''){
    document.getElementById('userError').textContent='Username required';
    valid=false;
  }
  if(!email.validity.valid){
    document.getElementById('emailError').textContent='Enter valid email';
    valid=false;
  }
  if(password.value.length < 4){
    document.getElementById('passError').textContent='Password min 4 chars';
    valid=false;
  }

  if(valid){
    if(remember.checked){
      localStorage.setItem('savedUsername', username.value);
      localStorage.setItem('savedEmail', email.value);
      localStorage.setItem('savedPassword', password.value);
    }else{
      localStorage.removeItem('savedUsername');
      localStorage.removeItem('savedEmail');
      localStorage.removeItem('savedPassword');
    }
    alert('Login successful (demo)!');
  }
});


//form 1111111111111111111111111111111111111111111111111111111111111111111//

      function updateTotals() {
        // Left Table Totals
        const qtyInputs = document.querySelectorAll(".qty");
        const rateInputs = document.querySelectorAll(".rate");
        const totalSpans = document.querySelectorAll(".total");

        let topQty = 0,
          topRate = 0,
          topTotal = 0;
        let bottomQty = 0,
          bottomRate = 0,
          bottomTotal = 0;

        qtyInputs.forEach((qty, i) => {
          const rate = rateInputs[i];
          const totalSpan = totalSpans[i];

          const q = parseFloat(qty.value) || 0;
          const r = parseFloat(rate.value) || 0;
          const total = q * r;

          totalSpan.textContent = total.toFixed(2);

          if (i < 3) {
            topQty += q;
            topRate += r;
            topTotal += total;
          } else {
            bottomQty += q;
            bottomRate += r;
            bottomTotal += total;
          }
        });

        document.getElementById("topQtyTotal").textContent = topQty.toFixed(2);
        document.getElementById("topRateTotal").textContent =
          topRate.toFixed(2);
        document.getElementById("topSectionTotal").textContent =
          topTotal.toFixed(2);
          
        document.getElementById("bottomQtyTotal").textContent =
          bottomQty.toFixed(2);
        document.getElementById("bottomRateTotal").textContent =
          bottomRate.toFixed(2);
        document.getElementById("bottomSectionTotal").textContent =
          bottomTotal.toFixed(2);

        const grand = topTotal + bottomTotal;
        document.getElementById("grandTotal").textContent = grand.toFixed(2);

        // એફિસે જમા કરાવેલ ટાટલ નંગ

        const qty3Inputs = document.querySelectorAll(".qty3");
        let grand3 = 0;

        qty3Inputs.forEach((qty) => {
          const q = parseFloat(qty.value) || 0;
          grand3 += q;
        });

        document.getElementById("grandTotal3").textContent = grand3.toFixed(2);
//
        
function calculateTable(prefix) {
  const qtys = document.querySelectorAll("." + prefix + "-qty");
  const rates = document.querySelectorAll("." + prefix + "-rate");
  const totals = document.querySelectorAll("." + prefix + "-total");
  let grand = 0;

  qtys.forEach((qty, i) => {
    const q = parseFloat(qty.value) || 0;
    const r = parseFloat(rates[i].value) || 0;
    const rowTotal = q * r;
    totals[i].textContent = rowTotal;   // show number directly
    grand += rowTotal;
  });

  document.getElementById(prefix + "-grand").textContent = grand;
  return grand;
}

function calculateAll() {
  const totalB1 = calculateTable("b1"); // અપાયેલા (જાવક)
  const totalB2 = calculateTable("b2"); // લાવેલા (આવક)

  // Update આવક અને જાવક
  document.getElementById("આવક").textContent = totalB2;
  document.getElementById("જાવક").textContent = totalB1;

  // Profit / Loss
  const result = totalB2 - totalB1;
  const resultCell = document.getElementById("b2-result");
  resultCell.textContent = result;

  // રંગ બદલવા
  if (result > 0) {
    resultCell.style.color = "green";
  } else if (result < 0) {
    resultCell.style.color = "red";
  } else {
    resultCell.style.color = "black";
  }
}

// Attach listeners
document.querySelectorAll("input").forEach(inp => {
  inp.addEventListener("input", calculateAll);
});

// Run once at start
calculateAll();

        // Right Table-1
        const qtyvInputs = document.querySelectorAll(".qtyv");
        const ratevInputs = document.querySelectorAll(".rateV");
        const total2Spans = document.querySelectorAll(".total-2");
        const percentSpans = document.querySelectorAll(".percent");

        let grand2 = 0;

        // Step 1: Calculate row totals and grand2
        qtyvInputs.forEach((qtyv, i) => {
          const ratev = ratevInputs[i];
          const totalSpan = total2Spans[i];

          const qv = parseFloat(qtyv.value) || 0;
          const rv = parseFloat(ratev.value) || 0;
          const total = qv * rv;

          totalSpan.textContent = total.toFixed(2);
          grand2 += total;
        });

        // Step 2: Show grand2
        document.getElementById("grandTotalR2").textContent = grand2.toFixed(2);

        // Step 3: Read grandTotal3 from page
        const grandTotal3 =
          parseFloat(document.getElementById("grandTotal3").textContent) || 0;

        // Step 4: Calculate percentages of each row based on grandTotal3
        let percentSum = 0;

        total2Spans.forEach((totalSpan, i) => {
          const rowTotal = parseFloat(totalSpan.textContent) || 0;
          let percent = 0;

          if (grandTotal3 > 0) {
            percent = rowTotal / grandTotal3;
          }

          percentSpans[i].textContent = percent.toFixed(2) + "%";
          percentSum += percent;
        });

        // Step 5: Show sum of percentages
        document.getElementById("percentTotal").textContent =
          percentSum.toFixed(2) + "%";


        // બનાવવાના અપાયેલા નંગ (રીપેરીંગ માટે)
const qty3 = document.querySelectorAll('.b3-qty');
const rate3 = document.querySelectorAll('.b3-rate');
const total3 = document.querySelectorAll('.b3-total');

let sum3 = 0;
qty3.forEach((q, i) => {
  const qty = parseFloat(q.value) || 0;
  const rate = parseFloat(rate3[i].value) || 0;
  const total = qty * rate;
  total3[i].textContent = total.toFixed(2);
  sum3 += total;
});

document.getElementById('b3-grand').textContent = sum3.toFixed(2);

 //<!-- Table R-4-->


 function calculateGrandTotalS() {
    let total = 0;
    const qtyInputs = document.querySelectorAll(".qtyS");

    qtyInputs.forEach(function (input) {
      const value = parseFloat(input.value) || 0; // ખાલી હોય તો 0 ગણાશે
      total += value;
    });

    document.getElementById("grandTotalS").textContent = total.toFixed(2); // 2 દશાંશ સુધી બતાવશે
  }

  // બધા qtyS ઇનપુટ પર ઈવેન્ટ લિસ્ટનર લગાવો
  document.querySelectorAll(".qtyS").forEach(function (input) {
    input.addEventListener("input", calculateGrandTotalS);


    //menejar

    function calculateSalaries() {
  const salaryInputs = document.querySelectorAll('.salary');
  const givenInputs = document.querySelectorAll('.givensalary');
  const percentSpans = document.querySelectorAll('.salarypercent');

  let totalSalary = 0;
  let totalGiven = 0;

  // read grandTotal3 from page
  const grandTotal3 = parseFloat(document.getElementById("grandTotal3")?.textContent) || 0;

  // Loop through each row
  for (let i = 0; i < salaryInputs.length; i++) {
    const salary = parseFloat(salaryInputs[i].value) || 0;
    const given = parseFloat(givenInputs[i].value) || 0;

    totalSalary += salary;
    totalGiven += given;

    // row wise percentage → given ÷ grandTotal3
    const percent = grandTotal3 !== 0 ? (given / grandTotal3) : 0;
    percentSpans[i].textContent = percent.toFixed(2) + "%";
  }

  // Show totals in last orange row
  document.getElementById("salary").textContent = totalSalary.toFixed(2);
  document.getElementById("givensalary").textContent = totalGiven.toFixed(2);

  // Final percentage total → totalGiven ÷ grandTotal3
  const totalPercent = grandTotal3 !== 0 ? (totalGiven / grandTotal3) : 0;
  document.getElementById("totalpercent").textContent = totalPercent.toFixed(2) + "%";

  // Show raw final % (without % sign) if needed
  document.getElementById("grandTotal2").textContent = totalPercent.toFixed(2);
}

// run on input change
document.addEventListener("input", calculateSalaries);


// Optional: run once on page load
window.addEventListener('DOMContentLoaded', calculateSalaries);
  // Page load પર પણ total ગણાવવું હોય તો uncomment કરો

  // calculateGrandTotalS();
  
   
     // Final 4 Calculations
const Total0 = grand3 !== 0 ? grand / grand3 : 0;
document.getElementById("Total0").textContent = Total0.toFixed(2);

// givensalary ÷ grand3 → TotaL1
const givensalary = parseFloat(document.getElementById("givensalary").textContent) || 0;
const TotaL1 = grand3 !== 0 ? givensalary / grand3 : 0;
document.getElementById("TotaL1").textContent = TotaL1.toFixed(2);

// grandTotal2 ÷ grand3 → TotaL2
const grandTotalR2 = parseFloat(document.getElementById("grandTotalR2").textContent) || 0;
const TotaL2 = grand3 !== 0 ? grandTotalR2 / grand3 : 0;
document.getElementById("TotaL2").textContent = TotaL2.toFixed(2);

// b2 ÷ grand3 → TotaL3
const b2 = parseFloat(document.getElementById("b2-result").textContent) || 0;
const TotaL3 = grand3 !== 0 ? b2 / grand3 : 0;
document.getElementById("TotaL3").textContent = TotaL3.toFixed(2);

// Final Grand Total (sum of all)
const finalGrand = Total0 + TotaL1 + TotaL2 + TotaL3;
document.getElementById("final-grand").textContent = finalGrand.toFixed(2);
  });
  
}
// Save form data to a downloadable JSON file and show link
function saveToFile() {
  const data = {};
  document.querySelectorAll("input[type=text], input[type=number]").forEach(input => {
    data[input.name || input.id] = input.value;
  });

  const blob = new Blob([JSON.stringify(data)], { type: "application/json" });
  const url = URL.createObjectURL(blob);

  const downloadLink = document.createElement("a");
  downloadLink.href = url;
  downloadLink.download = "formdata.json";
  downloadLink.textContent = "Download Saved Data (formdata.json)";
  downloadLink.style.display = "block";

  const container = document.getElementById("save-file-container");
  container.innerHTML = ""; 
  container.appendChild(downloadLink);
}

// Save form data
function saveForm1() {
  const form = document.querySelector('#form1');
  const inputs = form.querySelectorAll('input');
  
  // Collect data
  const data = {};
  inputs.forEach(input => {
    data[input.id || input.name || Math.random()] = input.value;
  });
  
  // Save to localStorage
  let records = JSON.parse(localStorage.getItem('form1Records')) || [];
  const record = { id: Date.now(), data: data };
  records.push(record);
  localStorage.setItem('form1Records', JSON.stringify(records));
  
  alert("Record saved!");
  displaySavedRecords();
}

// Display saved records as clickable links
function displaySavedRecords() {
  const list = document.getElementById('savedRecords');
  list.innerHTML = '';
  let records = JSON.parse(localStorage.getItem('form1Records')) || [];
  
  records.forEach(record => {
    const li = document.createElement('li');
    const a = document.createElement('a');
    a.href = "#";
    a.textContent = record.data.khatedar || "Record " + record.id;
    a.onclick = () => { loadForm1(record.id); };
    li.appendChild(a);
    list.appendChild(li);
  });
}

// Load saved data into the form
function loadForm1(id) {
  let records = JSON.parse(localStorage.getItem('form1Records')) || [];
  let record = records.find(r => r.id == id);
  if (!record) return;
  
  const form = document.querySelector('#form1');
  const inputs = form.querySelectorAll('input');
  
  inputs.forEach(input => {
    const key = input.id || input.name;
    if (record.data[key] !== undefined) {
      input.value = record.data[key];
    }
  });
}
    // Auto update on input
      document.addEventListener("input", updateTotals);


       function toFloat(v) {
      if (!v) return 0;
      // Keep digits and only the first dot
      let cleaned = v.replace(/[^0-9.]/g, '');
      let parts = cleaned.split('.');
      if (parts.length > 2) {
        cleaned = parts[0] + '.' + parts.slice(1).join('');
      }
      return parseFloat(cleaned) || 0;
    }

    const $ = id => document.getElementById(id);
    const inputs = ['type1','type2','rate','type3'];

    function calc() {
      inputs.forEach(id=>{
        const el = $(id);
        let cleaned = el.value.replace(/[^0-9.]/g,'');
        let parts = cleaned.split('.');
        if (parts.length > 2) {
          cleaned = parts[0] + '.' + parts.slice(1).join('');
        }
        if (el.value !== cleaned) el.value = cleaned;
      });

      const t1 = toFloat($('type1').value);
      const t2 = toFloat($('type2').value);
      const r  = toFloat($('rate').value);
      const t3 = toFloat($('type3').value);

      const total = t1 + t2;
      const full  = total * r;
      const final = full - t3;

      $('total').textContent = total.toFixed(2);
      $('fullTotal').textContent = full.toFixed(2);
      $('final').textContent = final.toFixed(2);
    }

    inputs.forEach(id=>$(id).addEventListener('input',calc));
    const tbody = document.getElementById('rows-body');
    const globalRateInput = document.getElementById('globalRate');

    function isValidNumber(value) {
      // Valid if: not empty, not just '.', and not ending with '.'
      return value !== '' && value !== '.' && !value.endsWith('.');
    }

    function addRow(serial = "") {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td><input type="number" class="row-no table-input" value="${serial}" /></td>
        <td><input type="text" class="name table-input" /></td>
        <td><input type="number" class="rate table-input" /></td>
        <td><input type="number" class="qty table-input" /></td>
        <td><span class="total">0</span></td>
        <td><input type="number" class="total1 table-input" /></td>
        <td><span class="total2">0</span></td>
        <td><span class="total3">0</span></td>
        <td><button class="delete-btn" onclick="deleteRow(this)">✖</button></td>
      `;
      tbody.appendChild(tr);
    }
    

    function deleteRow(btn) {
      btn.closest('tr').remove();
      calculateAll();
    }

    function calculateAll() {
      let sumQty = 0, sumTotal = 0, sumUpad = 0, sumTotal2 = 0, sumTotal3 = 0;
      document.querySelectorAll('#rows-body tr').forEach(row => {
        const qtyField = row.querySelector('.qty');
        const rateField = row.querySelector('.rate');
        const upadField = row.querySelector('.total1');

        const qty = isValidNumber(qtyField.value) ? parseFloat(qtyField.value) : 0;
        const rate = isValidNumber(rateField.value) ? parseFloat(rateField.value) : 0;
        const upadVal = isValidNumber(upadField.value) ? parseFloat(upadField.value) : 0;

        const totalVal = qty * rate;
        const diff = totalVal - upadVal;

        row.querySelector('.total').textContent = isNaN(totalVal) ? '0' : totalVal.toFixed(2);
        if (diff >= 0) {
          row.querySelector('.total2').textContent = diff.toFixed(2);
          row.querySelector('.total3').textContent = "0.00";
        } else {
          row.querySelector('.total2').textContent = "0.00";
          row.querySelector('.total3').textContent = Math.abs(diff).toFixed(2);
        }

        sumQty += qty;
        sumTotal += totalVal;
        sumUpad += upadVal;
        sumTotal2 += diff >= 0 ? diff : 0;
        sumTotal3 += diff < 0 ? Math.abs(diff) : 0;
      });

      document.querySelector('.final-totalhira').textContent = sumQty.toFixed(2);
      document.querySelector('.final-total').textContent = sumTotal.toFixed(2);
      document.querySelector('.final-upad').textContent = sumUpad.toFixed(2);
      document.querySelector('.final-total2').textContent = sumTotal2.toFixed(2);
      document.querySelector('.final-total3').textContent = sumTotal3.toFixed(2);
    }

    globalRateInput.addEventListener('input', () => {
      const value = parseFloat(globalRateInput.value) || 0;
      document.querySelectorAll('.rate').forEach(r => {
        r.value = value;
      });
      calculateAll();
    });

    document.addEventListener('input', (e) => {
      if (['qty','rate','total1'].some(cls => e.target.classList.contains(cls))) {
        calculateAll();
      }
    });

    // Add 10 rows by default
    for (let j = 1; j <= 30; j++) {
      addRow(j);
    }


</script>
</body>
</html>